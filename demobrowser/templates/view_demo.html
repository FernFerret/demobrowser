{% extends "layout-fixed.html" %}
{% block main %}
  <div class="row">
    <div class="span10 offset1">
      <ul class="pager" style="margin-top:0px">
        {% if next %}
          <li class="previous">
            <a title="View Demo: {{ next.title }}" href="{{ url_for('view_demo', demo=next.id) }}"><i class="icon-angle-left"></i> Newer</a>
          </li>
        {% else %}
          <li class="previous disabled">
            <a href="#"><i class="icon-angle-left"></i> Newer</a>
          </li>
        {% endif %}
        <li>
          <a title="Back to Demo Grid" href="{{ url_for('demopage', page=demo.get_page_of(config.get('DEMO_PER_PAGE', 12))) }}"><i class="icon-th"></i></a>
        </li>
        {% if prev %}
          <li class="next">
            <a title="View Demo: {{ prev.title }}" href="{{ url_for('view_demo', demo=prev.id) }}">Older <i class="icon-angle-right"></i></a>
          </li>
        {% else %}
          <li class="next disabled">
            <a href="#" onclick="e.preventDefault();" class="">Older <i class="icon-angle-right"></i></a>
          </li>
        {% endif %}
      </ul>
      <div class="hero-unit" style="padding:30px 60px 60px 60px">
        {% include "view_demo_raw.html" %}
      </div>
    </div>
  </div>
{% endblock main %}
{% block javascript %}
  {% if session.user_admin %}
    <script src="{{ url_for('static', filename='js/bootstrap-editable.js') }}"></script>
    <script type="text/javascript">
    $.fn.editable.defaults.placement = 'right';
    $('#deletedemo').popover();
    $('#title').editable({
                               type:  'text',
                               pk:    {{ demo.id }},
                               name:  'title',
                               url:   '{{ url_for("edit_demo_field", demo=demo.id) }}',
                               title: 'Enter the title of this match'
                            });
    $('#logfile').editable({
                               type:  'text',
                               pk:    {{ demo.id }},
                               name:  'logfile',
                               url:   '{{ url_for("edit_demo_field", demo=demo.id) }}',
                               title: 'Enter the Log ID number for logs.tf'
                            });
    $('#summary').editable({
                               type:  'textarea',
                               pk:    {{ demo.id }},
                               name:  'summary',
                               url:   '{{ url_for("edit_demo_field", demo=demo.id) }}',
                               title: 'Enter a brief summary',
                               rows: 7
                            });
    </script>
    <script src="{{ url_for('static', filename='js/editdemo.js') }}"></script>
  {% endif %}
{% endblock %}
